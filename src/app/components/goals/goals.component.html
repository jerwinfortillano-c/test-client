<p-toast [baseZIndex]="6000"></p-toast>

<p-confirmDialog
  [style]="{ width: '420px' }"
  [position]="position"
  [baseZIndex]="10000"
  acceptButtonStyleClass="p-button-sm primary"
  [rejectVisible]="false"
  acceptIcon=""
  acceptLabel="Proceed"
>
</p-confirmDialog>

<div class="grid content-container">
  <div class="col-12">
    <h5 class="p-3 text-xl text-center"> MY CAREER GOAL </h5>
  </div>
  <div class="col-12">
    <div class="flex justify-content-start flex-wrap card-container gap-3 pl-2">
      <div>
        <button pButton type="button" class="p-button-sm text-xs p-button-danger" (click)="close()">Close</button>
      </div>
      <div>
        <button pButton type="button" class="p-button-sm text-xs p-button-primary" (click)="createCareerGoal()">Add</button>
      </div>
    </div>
  </div>
  <div class="col-12 mt-2">
    <p-table [value]="career_goals" responsiveLayout="scroll" [lazy]="true"
    (onLazyLoad)="getAllCareerGoals($event)" [loading]="loading" [resizableColumns]="true" columnResizeMode="expand" 
    styleClass="p-datatable-gridlines p-datatable-sm">
      <ng-template pTemplate="header">
          <tr class="text-sm">
              <th pResizableColumn >No.</th>
              <th pResizableColumn >Name</th>
              <th pResizableColumn >Description</th>
              <th pResizableColumn >Reason</th>
              <th pResizableColumn >Target Date</th>
              <th pResizableColumn >Completed Date</th>
              <th pResizableColumn style="text-align: center; width: 5%">Edit</th>
              <th pResizableColumn style="text-align: center; width: 5%">Delete</th>
          </tr>
      </ng-template>
      <ng-template pTemplate="body" let-career let-i="rowIndex">
          <tr class="text-sm">
              <td>{{ i + 1 }}</td>
              <td>{{career.name}}</td>
              <td>{{career.desc}}</td>
              <td>{{career.reason}}</td>
              <td>{{career.target_date == '0000-00-00' ? career.target_date : career.target_date | date }}</td>
              <td>{{career.date_completed == '0000-00-00' ? career.date_completed : career.date_completed | date }}</td>
              <td>
                <button pButton type="button" class="p-button-sm text-xs p-button-text" icon="pi pi-pencil" (click)="editCareerGoal(career)"></button>
              </td>
              <td>
                <button pButton type="button" class="p-button-sm text-xs p-button-text p-button-danger" icon="pi pi-trash"  (click)="deleteCareerGoal(career.id)"></button>
              </td>
          </tr>
      </ng-template>
  </p-table>
  </div>
</div>